<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Tutorial &mdash; idtrack 0.0.2 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/custom_cookietemple.css" type="text/css" />
      <link rel="stylesheet" href="../_static/dark_mode_css/general.css" type="text/css" />
      <link rel="stylesheet" href="../_static/dark_mode_css/dark.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
        <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
        <script src="../_static/dark_mode_js/default_dark.js"></script>
        <script src="../_static/dark_mode_js/theme_switcher.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="results_preliminary_for_hlca" href="results_preliminary_for_hlca.html" />
    <link rel="prev" title="Initialization" href="initialization.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html">
            <img src="../_static/logo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../usage.html">Usage</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="initialization.html">Initialization</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Tutorial</a></li>
<li class="toctree-l2"><a class="reference internal" href="results_preliminary_for_hlca.html">results_preliminary_for_hlca</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../reference.html">Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributing.html">Contributor Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../authors.html">Credits</a></li>
<li class="toctree-l1"><a class="reference internal" href="../code_of_conduct.html">Contributor Covenant Code of Conduct</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">idtrack</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../usage.html">Usage</a> &raquo;</li>
      <li>Tutorial</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/_notebooks/Untitled.ipynb.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  
<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput.container div.prompt *,
div.nboutput.container div.prompt *,
div.nbinput.container div.input_area pre,
div.nboutput.container div.output_area pre,
div.nbinput.container div.input_area .highlight,
div.nboutput.container div.output_area .highlight {
    border: none;
    padding: 0;
    margin: 0;
    box-shadow: none;
}

div.nbinput.container > div[class*=highlight],
div.nboutput.container > div[class*=highlight] {
    margin: 0;
}

div.nbinput.container div.prompt *,
div.nboutput.container div.prompt * {
    background: none;
}

div.nboutput.container div.output_area .highlight,
div.nboutput.container div.output_area pre {
    background: unset;
}

div.nboutput.container div.output_area div.highlight {
    color: unset;  /* override Pygments text color */
}

/* avoid gaps between output lines */
div.nboutput.container div[class*=highlight] pre {
    line-height: normal;
}

/* input/output containers */
div.nbinput.container,
div.nboutput.container {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
    width: 100%;
}
@media (max-width: 540px) {
    div.nbinput.container,
    div.nboutput.container {
        flex-direction: column;
    }
}

/* input container */
div.nbinput.container {
    padding-top: 5px;
}

/* last container */
div.nblast.container {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput.container div.prompt pre {
    color: #307FC1;
}

/* output prompt */
div.nboutput.container div.prompt pre {
    color: #BF5B3D;
}

/* all prompts */
div.nbinput.container div.prompt,
div.nboutput.container div.prompt {
    width: 4.5ex;
    padding-top: 5px;
    position: relative;
    user-select: none;
}

div.nbinput.container div.prompt > div,
div.nboutput.container div.prompt > div {
    position: absolute;
    right: 0;
    margin-right: 0.3ex;
}

@media (max-width: 540px) {
    div.nbinput.container div.prompt,
    div.nboutput.container div.prompt {
        width: unset;
        text-align: left;
        padding: 0.4em;
    }
    div.nboutput.container div.prompt.empty {
        padding: 0;
    }

    div.nbinput.container div.prompt > div,
    div.nboutput.container div.prompt > div {
        position: unset;
    }
}

/* disable scrollbars on prompts */
div.nbinput.container div.prompt pre,
div.nboutput.container div.prompt pre {
    overflow: hidden;
}

/* input/output area */
div.nbinput.container div.input_area,
div.nboutput.container div.output_area {
    -webkit-flex: 1;
    flex: 1;
    overflow: auto;
}
@media (max-width: 540px) {
    div.nbinput.container div.input_area,
    div.nboutput.container div.output_area {
        width: 100%;
    }
}

/* input area */
div.nbinput.container div.input_area {
    border: 1px solid #e0e0e0;
    border-radius: 2px;
    /*background: #f5f5f5;*/
}

/* override MathJax center alignment in output cells */
div.nboutput.container div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.imgmath center alignment in output cells */
div.nboutput.container div.math p {
    text-align: left;
}

/* standard error */
div.nboutput.container div.output_area.stderr {
    background: #fdd;
}

/* ANSI colors */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-default-inverse-fg { color: #FFFFFF; }
.ansi-default-inverse-bg { background-color: #000000; }

.ansi-bold { font-weight: bold; }
.ansi-underline { text-decoration: underline; }


div.nbinput.container div.input_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight].math,
div.nboutput.container div.output_area.rendered_html,
div.nboutput.container div.output_area > div.output_javascript,
div.nboutput.container div.output_area:not(.rendered_html) > img{
    padding: 5px;
    margin: 0;
}

/* fix copybtn overflow problem in chromium (needed for 'sphinx_copybutton') */
div.nbinput.container div.input_area > div[class^='highlight'],
div.nboutput.container div.output_area > div[class^='highlight']{
    overflow-y: hidden;
}

/* hide copybtn icon on prompts (needed for 'sphinx_copybutton') */
.prompt .copybtn {
    display: none;
}

/* Some additional styling taken form the Jupyter notebook CSS */
.jp-RenderedHTMLCommon table,
div.rendered_html table {
  border: none;
  border-collapse: collapse;
  border-spacing: 0;
  color: black;
  font-size: 12px;
  table-layout: fixed;
}
.jp-RenderedHTMLCommon thead,
div.rendered_html thead {
  border-bottom: 1px solid black;
  vertical-align: bottom;
}
.jp-RenderedHTMLCommon tr,
.jp-RenderedHTMLCommon th,
.jp-RenderedHTMLCommon td,
div.rendered_html tr,
div.rendered_html th,
div.rendered_html td {
  text-align: right;
  vertical-align: middle;
  padding: 0.5em 0.5em;
  line-height: normal;
  white-space: normal;
  max-width: none;
  border: none;
}
.jp-RenderedHTMLCommon th,
div.rendered_html th {
  font-weight: bold;
}
.jp-RenderedHTMLCommon tbody tr:nth-child(odd),
div.rendered_html tbody tr:nth-child(odd) {
  background: #f5f5f5;
}
.jp-RenderedHTMLCommon tbody tr:hover,
div.rendered_html tbody tr:hover {
  background: rgba(66, 165, 245, 0.2);
}

/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<section id="Tutorial">
<h1>Tutorial<a class="headerlink" href="#Tutorial" title="Permalink to this heading"></a></h1>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">scanpy</span> <span class="k">as</span> <span class="nn">sc</span>
<span class="kn">import</span> <span class="nn">pickle</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">Counter</span>
<span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;../..&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">idtrack</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">idtrack._track_tests</span> <span class="kn">import</span> <span class="o">*</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">logger_config</span><span class="p">()</span>
<span class="n">local_dir</span> <span class="o">=</span> <span class="s2">&quot;/lustre/groups/ml01/workspace/kemal.inecik/idtrack_temp&quot;</span>  <span class="c1"># or any other local directory</span>
<span class="n">dm</span> <span class="o">=</span> <span class="n">DatabaseManager</span><span class="p">(</span><span class="s2">&quot;homo_sapiens&quot;</span><span class="p">,</span> <span class="mi">107</span><span class="p">,</span> <span class="s2">&quot;gene&quot;</span><span class="p">,</span> <span class="n">local_dir</span><span class="p">,</span> <span class="mi">79</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">tt</span><span class="p">:</span> <span class="n">TrackTests</span> <span class="o">=</span> <span class="n">TrackTests</span><span class="p">(</span><span class="n">dm</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
2022-08-16 21:48:15 INFO:graph: The graph is being read.
</pre></div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">base_path</span> <span class="o">=</span> <span class="s2">&quot;/lustre/groups/ml01/workspace/hlca_lisa.sikkema_malte.luecken/HLCA_reproducibility/data&quot;</span>
<span class="n">dset0_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">base_path</span><span class="p">,</span> <span class="s2">&quot;HLCA_extended/extension_datasets/ready/full&quot;</span><span class="p">)</span>
<span class="n">dset1_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">base_path</span><span class="p">,</span> <span class="s2">&quot;HLCA_extended/extension_datasets/raw&quot;</span><span class="p">)</span>

<span class="n">adata_dict</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;Kaminski_2020&quot;</span><span class="p">:</span> <span class="p">[</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">dset0_dir</span><span class="si">}</span><span class="s2">/adams.h5ad&quot;</span><span class="p">],</span>
    <span class="s2">&quot;Meyer_2021&quot;</span><span class="p">:</span> <span class="p">[</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">dset0_dir</span><span class="si">}</span><span class="s2">/meyer_2021.h5ad&quot;</span><span class="p">],</span>
    <span class="s2">&quot;MeyerNikolic_unpubl&quot;</span><span class="p">:</span> <span class="p">[</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">dset0_dir</span><span class="si">}</span><span class="s2">/meyer_nikolic_unpubl.h5ad&quot;</span><span class="p">],</span>
    <span class="s2">&quot;Barbry_unpubl&quot;</span><span class="p">:</span> <span class="p">[</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">dset0_dir</span><span class="si">}</span><span class="s2">/barbry.h5ad&quot;</span><span class="p">],</span>
    <span class="s2">&quot;Regev_2021&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">dset0_dir</span><span class="si">}</span><span class="s2">/delorey_cryo.h5ad&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">dset0_dir</span><span class="si">}</span><span class="s2">/delorey_fresh.h5ad&quot;</span><span class="p">,</span>
        <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">dset0_dir</span><span class="si">}</span><span class="s2">/delorey_nuclei.h5ad&quot;</span>
    <span class="p">],</span>
    <span class="s2">&quot;Thienpont_2018&quot;</span><span class="p">:</span> <span class="p">[</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">dset1_dir</span><span class="si">}</span><span class="s2">/Lambrechts/lambrechts.h5ad&quot;</span><span class="p">],</span>
    <span class="s2">&quot;Budinger_2020&quot;</span><span class="p">:</span> <span class="p">[</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">dset0_dir</span><span class="si">}</span><span class="s2">/bharat.h5ad&quot;</span><span class="p">],</span>
    <span class="s2">&quot;Banovich_Kropski_2020&quot;</span><span class="p">:</span> <span class="p">[</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">dset0_dir</span><span class="si">}</span><span class="s2">/haberman.h5ad&quot;</span><span class="p">],</span>
    <span class="s2">&quot;Sheppard_2020&quot;</span><span class="p">:</span> <span class="p">[</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">dset0_dir</span><span class="si">}</span><span class="s2">/tsukui.h5ad&quot;</span><span class="p">],</span>
    <span class="s2">&quot;Wunderink_2021&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">dset0_dir</span><span class="si">}</span><span class="s2">/grant_cryo.h5ad&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">dset0_dir</span><span class="si">}</span><span class="s2">/grant_fresh.h5ad&quot;</span>
    <span class="p">],</span>
    <span class="s2">&quot;Lambrechts_2021&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">dset0_dir</span><span class="si">}</span><span class="s2">/wouters.h5ad&quot;</span> <span class="c1">#, f&quot;{dset0_dir}/wouters_labs.h5ad&quot;</span>
    <span class="p">],</span>
    <span class="s2">&quot;Zhang_2021&quot;</span><span class="p">:</span> <span class="p">[</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">dset1_dir</span><span class="si">}</span><span class="s2">/Liao/covid_for_publish.h5ad&quot;</span><span class="p">],</span>
    <span class="s2">&quot;Duong_lungMAP_unpubl&quot;</span><span class="p">:</span> <span class="p">[</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">dset0_dir</span><span class="si">}</span><span class="s2">/duong.h5ad&quot;</span><span class="p">],</span>
    <span class="s2">&quot;Janssen_2020&quot;</span><span class="p">:</span> <span class="p">[</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">dset0_dir</span><span class="si">}</span><span class="s2">/mould.h5ad&quot;</span><span class="p">],</span>
    <span class="s2">&quot;Sun_2020&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">dset0_dir</span><span class="si">}</span><span class="s2">/wang_sub_batch1.h5ad&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">dset0_dir</span><span class="si">}</span><span class="s2">/wang_sub_batch2.h5ad&quot;</span><span class="p">,</span>
        <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">dset0_dir</span><span class="si">}</span><span class="s2">/wang_sub_batch3.h5ad&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">dset0_dir</span><span class="si">}</span><span class="s2">/wang_sub_batch4.h5ad&quot;</span><span class="p">],</span>
    <span class="s2">&quot;Gomperts_2021&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">dset0_dir</span><span class="si">}</span><span class="s2">/carraro_ucla.h5ad&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">dset0_dir</span><span class="si">}</span><span class="s2">/carraro_cff.h5ad&quot;</span><span class="p">,</span>
        <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">dset0_dir</span><span class="si">}</span><span class="s2">/carraro_csmc.h5ad&quot;</span><span class="p">],</span>
    <span class="s2">&quot;Eils_2020&quot;</span><span class="p">:</span> <span class="p">[</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">dset0_dir</span><span class="si">}</span><span class="s2">/lukassen.h5ad&quot;</span><span class="p">],</span>
    <span class="s2">&quot;Schiller_2020&quot;</span><span class="p">:</span> <span class="p">[</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">dset0_dir</span><span class="si">}</span><span class="s2">/mayr.h5ad&quot;</span><span class="p">],</span>
    <span class="s2">&quot;Misharin_Budinger_2018&quot;</span><span class="p">:</span> <span class="p">[</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">dset0_dir</span><span class="si">}</span><span class="s2">/reyfman_disease.h5ad&quot;</span><span class="p">],</span>
    <span class="s2">&quot;Shalek_2018&quot;</span><span class="p">:</span> <span class="p">[</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">dset0_dir</span><span class="si">}</span><span class="s2">/ordovasmontanes.h5ad&quot;</span><span class="p">],</span>
    <span class="s2">&quot;Schiller_2021&quot;</span><span class="p">:</span> <span class="p">[</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">dset0_dir</span><span class="si">}</span><span class="s2">/schiller_discovair.h5ad&quot;</span><span class="p">],</span>
    <span class="s2">&quot;Peer_Massague_2020&quot;</span><span class="p">:</span> <span class="p">[</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">dset0_dir</span><span class="si">}</span><span class="s2">/laughney.h5ad&quot;</span><span class="p">],</span>
    <span class="s2">&quot;Lafyatis_2019&quot;</span><span class="p">:</span> <span class="p">[</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">dset0_dir</span><span class="si">}</span><span class="s2">/valenzi.h5ad&quot;</span><span class="p">],</span>
    <span class="s2">&quot;Tata_unpubl&quot;</span><span class="p">:</span> <span class="p">[</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">dset0_dir</span><span class="si">}</span><span class="s2">/tata_unpubl.h5ad&quot;</span><span class="p">],</span>
    <span class="s2">&quot;Xu_2020&quot;</span><span class="p">:</span> <span class="p">[</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">dset0_dir</span><span class="si">}</span><span class="s2">/guo.h5ad&quot;</span><span class="p">],</span>
    <span class="s2">&quot;Sims_2019&quot;</span><span class="p">:</span> <span class="p">[</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">dset0_dir</span><span class="si">}</span><span class="s2">/szabo.h5ad&quot;</span><span class="p">],</span>
    <span class="s2">&quot;Schultze_unpubl&quot;</span><span class="p">:</span> <span class="p">[</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">dset0_dir</span><span class="si">}</span><span class="s2">/schultze_unpubl.h5ad&quot;</span><span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">base_path</span> <span class="o">=</span> <span class="s2">&quot;/lustre/groups/ml01/workspace/hlca_lisa.sikkema_malte.luecken/HLCA_reproducibility/data&quot;</span>
<span class="n">dset0_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">base_path</span><span class="p">,</span> <span class="s2">&quot;HLCA_extended/extension_datasets/ready/full&quot;</span><span class="p">)</span>
<span class="n">dset1_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">base_path</span><span class="p">,</span> <span class="s2">&quot;HLCA_extended/extension_datasets/raw&quot;</span><span class="p">)</span>

<span class="n">adata_dict</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;Kaminski_2020&quot;</span><span class="p">:</span> <span class="p">[</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">dset0_dir</span><span class="si">}</span><span class="s2">/adams.h5ad&quot;</span><span class="p">],</span>
    <span class="s2">&quot;Eils_2020&quot;</span><span class="p">:</span> <span class="p">[</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">dset0_dir</span><span class="si">}</span><span class="s2">/lukassen.h5ad&quot;</span><span class="p">],</span>
    <span class="s2">&quot;Sims_2019&quot;</span><span class="p">:</span> <span class="p">[</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">dset0_dir</span><span class="si">}</span><span class="s2">/szabo.h5ad&quot;</span><span class="p">],</span>
    <span class="s2">&quot;Schultze_unpubl&quot;</span><span class="p">:</span> <span class="p">[</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">dset0_dir</span><span class="si">}</span><span class="s2">/schultze_unpubl.h5ad&quot;</span><span class="p">],</span>
<span class="p">}</span>

<span class="c1">#with open(os.path.join(local_dir, &quot;results_databases.pk&quot;), &#39;rb&#39;) as handle:</span>
<span class="c1">#    result = pickle.load(handle)</span>
<span class="c1">#    print(&quot;Loaded&quot;)</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">result</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
<span class="k">for</span> <span class="n">ddadaata</span> <span class="ow">in</span> <span class="n">adata_dict</span><span class="p">:</span>

    <span class="n">adata</span> <span class="o">=</span> <span class="n">sc</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">adata_dict</span><span class="p">[</span><span class="n">ddadaata</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">gene_list</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">adata</span><span class="o">.</span><span class="n">var</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
    <span class="n">gene_list_filtered</span><span class="p">,</span> <span class="n">gene_list_converted</span><span class="p">,</span> <span class="n">gene_list_lost</span> <span class="o">=</span> <span class="n">tt</span><span class="o">.</span><span class="n">unfound_correct</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">adata</span><span class="o">.</span><span class="n">var</span><span class="o">.</span><span class="n">index</span><span class="p">))</span>

    <span class="n">gene_list</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">gene_list</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">ddadaata</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">gene_list_filtered</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="n">gene_list_filtered</span><span class="p">)</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">gene_list_filtered</span><span class="p">)))</span>
    <span class="n">gene_list_filtered</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">gene_list_filtered</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">gene_list_filtered</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">i</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">tt</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">nodes</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">tt</span><span class="o">.</span><span class="n">identify_source</span><span class="p">(</span><span class="n">gene_list_filtered</span><span class="p">)[</span><span class="mi">0</span><span class="p">])</span>

    <span class="n">a</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">ind</span><span class="p">,</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">gene_list_filtered</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">ind</span> <span class="o">%</span> <span class="mi">100</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">ind</span> <span class="o">&gt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">gene_list_filtered</span><span class="p">)</span><span class="o">-</span><span class="mi">5</span><span class="p">:</span>
            <span class="n">progress_bar</span><span class="p">(</span><span class="n">ind</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">gene_list_filtered</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">conv</span> <span class="o">=</span> <span class="n">tt</span><span class="o">.</span><span class="n">convert</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="s1">&#39;ensembl_gene&#39;</span><span class="p">,</span> <span class="n">prioritize_to_one_filter</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">return_path</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">conv</span>
    <span class="n">result</span><span class="p">[</span><span class="n">ddadaata</span><span class="p">]</span> <span class="o">=</span> <span class="n">a</span>
    <span class="nb">print</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">Counter</span><span class="p">([</span><span class="nb">len</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="k">if</span> <span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="mi">0</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">a</span><span class="p">])</span><span class="o">.</span><span class="n">most_common</span><span class="p">())[:</span><span class="mi">10</span><span class="p">])</span>
    <span class="nb">print</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
2022-08-16 21:49:00 WARNING:track: Number of converted IDs with small modifications: 355
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Kaminski_2020 45947 0
((&#39;HGNC Symbol&#39;, 94), 30503)
Progress: |████████████████████| 100.0%
[(1, 45536), (0, 411)]

</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
2022-08-16 21:51:55 WARNING:track: Number of converted IDs with small modifications: 671
2022-08-16 21:51:55 WARNING:track: Number of IDs not found in the graph: 7
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Eils_2020 32731 99
((&#39;Vega gene&#39;, 80), 30093)
Progress: |████████████████████| 100.0%
[(1, 31742), (0, 888), (3, 1), (2, 1)]

</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
2022-08-16 21:53:00 WARNING:track: Number of converted IDs with small modifications: 2360
2022-08-16 21:53:00 WARNING:track: Number of IDs not found in the graph: 10
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Sims_2019 60715 1894
((&#39;Vega gene&#39;, 84), 42737)
Progress: |████████████████████| 100.0%
[(1, 57091), (0, 1723), (2, 6), (3, 1)]

</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
2022-08-16 21:57:37 WARNING:track: Number of converted IDs with small modifications: 309
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Schultze_unpubl 24532 1
((&#39;HGNC Symbol&#39;, 91), 19500)
Progress: |████████████████████| 100.0%
[(1, 24439), (0, 91), (2, 1)]

</pre></div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">### Check how many total targets are</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">only_matches</span> <span class="o">=</span> <span class="p">{</span><span class="n">ddad</span><span class="p">:</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="nb">list</span><span class="p">(</span><span class="n">i</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span> <span class="k">if</span> <span class="n">i</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="p">[]</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">result</span><span class="p">[</span><span class="n">ddad</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span> <span class="k">for</span> <span class="n">ddad</span> <span class="ow">in</span> <span class="n">adata_dict</span><span class="p">}</span>
<span class="n">all_targets</span> <span class="o">=</span> <span class="p">{</span><span class="n">k</span> <span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">only_matches</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">j</span> <span class="ow">in</span> <span class="n">i</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">j</span><span class="p">}</span>
<span class="n">all_targets</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">all_targets</span><span class="p">)</span>
<span class="nb">len</span><span class="p">(</span><span class="n">all_targets</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
56870
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">ddd</span> <span class="ow">in</span> <span class="n">only_matches</span><span class="p">:</span>
    <span class="n">db_1to1</span> <span class="o">=</span> <span class="p">[</span><span class="n">l</span> <span class="k">for</span> <span class="n">c</span><span class="p">,</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">only_matches</span><span class="p">[</span><span class="n">ddd</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">for</span> <span class="n">l</span> <span class="ow">in</span> <span class="n">t</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">t</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">]</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">ddd</span><span class="p">,</span> <span class="s1">&#39;</span><span class="se">\t</span><span class="s1">&#39;</span><span class="p">,</span><span class="s1">&#39;</span><span class="se">\t</span><span class="s1">&#39;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">db_1to1</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">db_1to1</span><span class="p">)),</span> <span class="nb">len</span><span class="p">(</span><span class="n">db_1to1</span><span class="p">)</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">db_1to1</span><span class="p">)))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Kaminski_2020            45536 45356 180
Eils_2020                31742 31225 517
Sims_2019                57091 55269 1822
Schultze_unpubl                  24439 24231 208
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">klk</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">db_1to1</span> <span class="k">if</span> <span class="n">db_1to1</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">]</span>
<span class="n">klk</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">unique</span><span class="p">(</span><span class="n">klk</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">klk</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">klk</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">5</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
194
[&#39;ENSG00000007129.18&#39; &#39;ENSG00000011021.23&#39; &#39;ENSG00000033011.14&#39;
 &#39;ENSG00000067601.10&#39; &#39;ENSG00000071127.18&#39;]
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">jjj</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span><span class="mi">40</span><span class="p">):</span>
    <span class="n">lll</span> <span class="o">=</span> <span class="p">[(</span><span class="n">c</span><span class="p">,</span><span class="n">t</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span><span class="p">,</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">only_matches</span><span class="p">[</span><span class="n">ddd</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">klk</span><span class="p">[</span><span class="n">jjj</span><span class="p">]</span> <span class="ow">in</span> <span class="n">t</span><span class="p">]</span>
    <span class="k">for</span> <span class="n">llll</span> <span class="ow">in</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span> <span class="ow">in</span> <span class="n">lll</span><span class="p">]:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">tt</span><span class="o">.</span><span class="n">convert</span><span class="p">(</span><span class="n">llll</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="s1">&#39;ensembl_gene&#39;</span><span class="p">,</span> <span class="n">return_path</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">prioritize_to_one_filter</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
{&#39;ENSG00000150337.14&#39;: [-1, -1, nan, 2, 0, 4, ((&#39;FCGR1A&#39;, &#39;ENSG00000150337.14&#39;, 0, (&#39;ensembl_gene&#39;, 103)),)]}
{&#39;ENSG00000150337.14&#39;: [-1, -3, nan, 2, 0, 4, ((&#39;FCGR1B&#39;, &#39;ENSG00000266332.1&#39;, 0, (&#39;assembly_37_ensembl_gene&#39;, 103)), (&#39;ENSG00000266332.1&#39;, &#39;2209&#39;, 0, (&#39;external&#39;, 103)), (&#39;2209&#39;, &#39;ENSG00000150337.14&#39;, 0, (&#39;ensembl_gene&#39;, 103)))]}

{&#39;ENSG00000151338.21&#39;: [-1, -1, nan, 2, 0, 30, ((&#39;MIPOL1&#39;, &#39;ENSG00000151338.21&#39;, 0, (&#39;ensembl_gene&#39;, 107)),)]}
{&#39;ENSG00000151338.21&#39;: [-1, -1, 0.99, 2, 0, 30, ((&#39;AL121790.1&#39;, &#39;ENSG00000258414.1&#39;, 0, (&#39;ensembl_gene&#39;, 105)), (&#39;ENSG00000258414.1&#39;, &#39;ENSG00000151338.20&#39;, 0), (&#39;ENSG00000151338.20&#39;, &#39;ENSG00000151338.21&#39;, 0))]}

{&#39;ENSG00000156170.14&#39;: [-1, -1, nan, 2, 0, 33, ((&#39;NDUFAF6&#39;, &#39;ENSG00000156170.14&#39;, 0, (&#39;ensembl_gene&#39;, 107)),)]}
{&#39;ENSG00000156170.14&#39;: [-1, -1, 0.99, 2, 0, 33, ((&#39;AC087752.3&#39;, &#39;ENSG00000253878.5&#39;, 0, (&#39;ensembl_gene&#39;, 106)), (&#39;ENSG00000253878.5&#39;, &#39;ENSG00000156170.14&#39;, 0))]}

{&#39;ENSG00000157654.19&#39;: [-1, -1, nan, 5, 0, 18, ((&#39;PALM2&#39;, &#39;ENSG00000157654.19&#39;, 0, (&#39;ensembl_gene&#39;, 99)),)]}
{&#39;ENSG00000157654.19&#39;: [-1, -1, nan, 5, 0, 18, ((&#39;AKAP2&#39;, &#39;ENSG00000157654.19&#39;, 0, (&#39;ensembl_gene&#39;, 99)),)]}
{&#39;ENSG00000157654.19&#39;: [-1, -3, nan, 5, 0, 18, ((&#39;PALM2-AKAP2&#39;, &#39;ENSG00000241978.5&#39;, 0, (&#39;assembly_37_ensembl_gene&#39;, 99)), (&#39;ENSG00000241978.5&#39;, &#39;445815&#39;, 0, (&#39;external&#39;, 99)), (&#39;445815&#39;, &#39;ENSG00000157654.19&#39;, 0, (&#39;ensembl_gene&#39;, 99)))]}

{&#39;ENSG00000158406.6&#39;: [-1, -3, nan, 4, 0, 3, ((&#39;HIST2H4A&#39;, &#39;ENSG00000124529.3&#39;, 0, (&#39;assembly_37_ensembl_gene&#39;, 104)), (&#39;ENSG00000124529.3&#39;, &#39;8365&#39;, 0, (&#39;external&#39;, 104)), (&#39;8365&#39;, &#39;ENSG00000158406.6&#39;, 0, (&#39;ensembl_gene&#39;, 104)))]}
{&#39;ENSG00000158406.6&#39;: [-1, -3, nan, 4, 0, 3, ((&#39;HIST1H4A&#39;, &#39;ENSG00000124529.3&#39;, 0, (&#39;assembly_37_ensembl_gene&#39;, 104)), (&#39;ENSG00000124529.3&#39;, &#39;HIST1H4J&#39;, 0, (&#39;external&#39;, 104)), (&#39;HIST1H4J&#39;, &#39;ENSG00000158406.6&#39;, 0, (&#39;ensembl_gene&#39;, 104)))]}

{&#39;ENSG00000158747.15&#39;: [-1, -1, nan, 4, 0, 14, ((&#39;NBL1&#39;, &#39;ENSG00000158747.15&#39;, 0, (&#39;ensembl_gene&#39;, 100)),)]}
{&#39;ENSG00000158747.15&#39;: [-1, -3, nan, 4, 0, 14, ((&#39;MINOS1-NBL1&#39;, &#39;ENSG00000270136.1&#39;, 0, (&#39;assembly_37_ensembl_gene&#39;, 100)), (&#39;ENSG00000270136.1&#39;, &#39;100532736&#39;, 0, (&#39;external&#39;, 100)), (&#39;100532736&#39;, &#39;ENSG00000158747.15&#39;, 0, (&#39;ensembl_gene&#39;, 100)))]}

{&#39;ENSG00000160014.17&#39;: [-1, -1, nan, 5, 0, 13, ((&#39;CALM3&#39;, &#39;ENSG00000160014.17&#39;, 0, (&#39;ensembl_gene&#39;, 97)),)]}
{&#39;ENSG00000160014.17&#39;: [-1, -1, nan, 5, 0, 13, ((&#39;CALM1&#39;, &#39;ENSG00000160014.17&#39;, 0, (&#39;ensembl_gene&#39;, 97)),)]}

{&#39;ENSG00000160201.12&#39;: [-1, -1, nan, 5, 0, 11, ((&#39;U2AF1L5&#39;, &#39;ENSG00000160201.12&#39;, 0, (&#39;ensembl_gene&#39;, 101)),)]}
{&#39;ENSG00000160201.12&#39;: [-1, -1, nan, 5, 0, 11, ((&#39;U2AF1&#39;, &#39;ENSG00000160201.12&#39;, 0, (&#39;ensembl_gene&#39;, 101)),)]}

{&#39;ENSG00000162947.5&#39;: [-1, -1, nan, 2, 0, 4, ((&#39;LINC01931&#39;, &#39;ENSG00000162947.5&#39;, 0, (&#39;ensembl_gene&#39;, 97)),)]}
{&#39;ENSG00000162947.5&#39;: [-1, -1, 0.896166, 2, 0, 4, ((&#39;AC007364.1&#39;, &#39;ENSG00000162947.4&#39;, 0, (&#39;ensembl_gene&#39;, 96)), (&#39;ENSG00000162947.4&#39;, &#39;ENSG00000162947.5&#39;, 0), (&#39;ENSG00000162947.5&#39;, &#39;ENSG00000162947.5&#39;, 0), (&#39;ENSG00000162947.5&#39;, &#39;ENSG00000162947.5&#39;, 1), (&#39;ENSG00000162947.5&#39;, &#39;ENSG00000162947.5&#39;, 2))]}

{&#39;ENSG00000167674.15&#39;: [-1, -1, 0.999497, 2, 0, 10, ((&#39;AC011498.1&#39;, &#39;ENSG00000167674.14&#39;, 0, (&#39;ensembl_gene&#39;, 95)), (&#39;ENSG00000167674.14&#39;, &#39;ENSG00000167674.15&#39;, 0))]}
{&#39;ENSG00000167674.15&#39;: [-1, -1, nan, 2, 0, 10, ((&#39;HDGFL2&#39;, &#39;ENSG00000167674.15&#39;, 0, (&#39;ensembl_gene&#39;, 96)),)]}

{&#39;ENSG00000169682.18&#39;: [-1, -1, nan, 3, 0, 12, ((&#39;SPIN1&#39;, &#39;ENSG00000169682.18&#39;, 0, (&#39;ensembl_gene&#39;, 96)),)]}
{&#39;ENSG00000169682.18&#39;: [-1, -1, nan, 3, 0, 12, ((&#39;SPNS1&#39;, &#39;ENSG00000169682.18&#39;, 0, (&#39;ensembl_gene&#39;, 96)),)]}

{&#39;ENSG00000169807.10&#39;: [-1, -1, nan, 5, 0, 2, ((&#39;PRY&#39;, &#39;ENSG00000169807.10&#39;, 0, (&#39;ensembl_gene&#39;, 81)),)]}
{&#39;ENSG00000169807.10&#39;: [-1, -1, nan, 5, 0, 2, ((&#39;PRY2&#39;, &#39;ENSG00000169807.10&#39;, 0, (&#39;ensembl_gene&#39;, 81)),)]}

{&#39;ENSG00000171848.16&#39;: [-1, -5, nan, 2, 0, 17, ((&#39;C2ORF48&#39;, &#39;ENSG00000163009.4&#39;, 0, (&#39;assembly_37_ensembl_gene&#39;, 102)), (&#39;ENSG00000163009.4&#39;, &#39;ENST00000381786.3&#39;, 0, (&#39;assembly_37_ensembl_transcript&#39;, 102)), (&#39;ENST00000381786.3&#39;, &#39;NM_182626&#39;, 0, (&#39;external&#39;, 102)), (&#39;NM_182626&#39;, &#39;ENST00000381786.7&#39;, 0, (&#39;ensembl_transcript&#39;, 102)), (&#39;ENST00000381786.7&#39;, &#39;ENSG00000171848.16&#39;, 0, (&#39;ensembl_gene&#39;, 102)))]}
{&#39;ENSG00000171848.16&#39;: [-1, -1, nan, 2, 0, 17, ((&#39;RRM2&#39;, &#39;ENSG00000171848.16&#39;, 0, (&#39;ensembl_gene&#39;, 102)),)]}

{&#39;ENSG00000171928.14&#39;: [-1, -1, nan, 3, 0, 10, ((&#39;TVP23C&#39;, &#39;ENSG00000171928.14&#39;, 0, (&#39;ensembl_gene&#39;, 96)),)]}
{&#39;ENSG00000171928.14&#39;: [-1, -1, nan, 3, 0, 10, ((&#39;TVP23B&#39;, &#39;ENSG00000171928.14&#39;, 0, (&#39;ensembl_gene&#39;, 96)),)]}

{&#39;ENSG00000173598.14&#39;: [-1, -1, 0.980072, 2, 0, 7, ((&#39;NUDT4P1&#39;, &#39;ENSG00000173598.13&#39;, 0, (&#39;ensembl_gene&#39;, 95)), (&#39;ENSG00000173598.13&#39;, &#39;ENSG00000173598.14&#39;, 0))]}
{&#39;ENSG00000173598.14&#39;: [-1, -1, nan, 2, 0, 7, ((&#39;NUDT4&#39;, &#39;ENSG00000173598.14&#39;, 0, (&#39;ensembl_gene&#39;, 96)),)]}
{&#39;ENSG00000173598.14&#39;: [-1, -3, nan, 2, 0, 7, ((&#39;AC243756.2&#39;, &#39;ENSG00000271121.1&#39;, 0, (&#39;assembly_37_ensembl_gene&#39;, 96)), (&#39;ENSG00000271121.1&#39;, &#39;11163&#39;, 0, (&#39;external&#39;, 96)), (&#39;11163&#39;, &#39;ENSG00000173598.14&#39;, 0, (&#39;ensembl_gene&#39;, 96)))]}

{&#39;ENSG00000174684.7&#39;: [-1, -1, nan, 3, 0, 1, ((&#39;B4GAT1&#39;, &#39;ENSG00000174684.7&#39;, 0, (&#39;ensembl_gene&#39;, 96)),)]}
{&#39;ENSG00000174684.7&#39;: [-1, -1, nan, 3, 0, 1, ((&#39;B3GNT6&#39;, &#39;ENSG00000174684.7&#39;, 0, (&#39;ensembl_gene&#39;, 96)),)]}

{&#39;ENSG00000175267.15&#39;: [-1, -3, nan, 2, 0, 8, ((&#39;C16ORF52&#39;, &#39;ENSG00000185716.7&#39;, 0, (&#39;assembly_37_ensembl_gene&#39;, 96)), (&#39;ENSG00000185716.7&#39;, &#39;VWA3A&#39;, 0, (&#39;external&#39;, 96)), (&#39;VWA3A&#39;, &#39;ENSG00000175267.15&#39;, 0, (&#39;ensembl_gene&#39;, 96)))]}
{&#39;ENSG00000175267.15&#39;: [-1, -1, nan, 2, 0, 8, ((&#39;VWA3A&#39;, &#39;ENSG00000175267.15&#39;, 0, (&#39;ensembl_gene&#39;, 96)),)]}

{&#39;ENSG00000176124.15&#39;: [-1, -1, nan, 4, 0, 43, ((&#39;DLEU7-AS1&#39;, &#39;ENSG00000176124.15&#39;, 0, (&#39;ensembl_gene&#39;, 101)),)]}
{&#39;ENSG00000176124.15&#39;: [-1, -1, nan, 4, 0, 43, ((&#39;DLEU1&#39;, &#39;ENSG00000176124.15&#39;, 0, (&#39;ensembl_gene&#39;, 101)),)]}

{&#39;ENSG00000182253.15&#39;: [-1, -1, nan, 2, 0, 4, ((&#39;SYNM&#39;, &#39;ENSG00000182253.15&#39;, 0, (&#39;ensembl_gene&#39;, 98)),)]}
{&#39;ENSG00000182253.15&#39;: [-1, -3, nan, 2, 0, 4, ((&#39;AC036108.1&#39;, &#39;ENSG00000269283.1&#39;, 0, (&#39;assembly_37_ensembl_gene&#39;, 98)), (&#39;ENSG00000269283.1&#39;, &#39;23336&#39;, 0, (&#39;external&#39;, 98)), (&#39;23336&#39;, &#39;ENSG00000182253.15&#39;, 0, (&#39;ensembl_gene&#39;, 98)))]}

{&#39;ENSG00000186792.17&#39;: [-1, -3, nan, 2, 0, 7, ((&#39;NAT6&#39;, &#39;ENSG00000261871.1&#39;, 0, (&#39;assembly_37_ensembl_gene&#39;, 96)), (&#39;ENSG00000261871.1&#39;, &#39;HYAL3&#39;, 0, (&#39;external&#39;, 96)), (&#39;HYAL3&#39;, &#39;ENSG00000186792.17&#39;, 0, (&#39;ensembl_gene&#39;, 96)))]}
{&#39;ENSG00000186792.17&#39;: [-1, -1, nan, 2, 0, 7, ((&#39;HYAL3&#39;, &#39;ENSG00000186792.17&#39;, 0, (&#39;ensembl_gene&#39;, 96)),)]}

</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ddad</span> <span class="o">=</span> <span class="s2">&quot;Schultze_unpubl&quot;</span>
<span class="n">only_matches</span> <span class="o">=</span> <span class="p">{</span><span class="n">ddad</span><span class="p">:</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="nb">list</span><span class="p">(</span><span class="n">i</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span> <span class="k">if</span> <span class="n">i</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="p">[]</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">result</span><span class="p">[</span><span class="n">ddad</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()}}</span>
<span class="k">for</span> <span class="n">ddd</span> <span class="ow">in</span> <span class="n">only_matches</span><span class="p">:</span>
    <span class="n">db_1to1</span> <span class="o">=</span> <span class="p">[</span><span class="n">l</span> <span class="k">for</span> <span class="n">c</span><span class="p">,</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">only_matches</span><span class="p">[</span><span class="n">ddd</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">for</span> <span class="n">l</span> <span class="ow">in</span> <span class="n">t</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">t</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">]</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">ddd</span><span class="p">,</span> <span class="s1">&#39;</span><span class="se">\t</span><span class="s1">&#39;</span><span class="p">,</span><span class="s1">&#39;</span><span class="se">\t</span><span class="s1">&#39;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">db_1to1</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">db_1to1</span><span class="p">)),</span> <span class="nb">len</span><span class="p">(</span><span class="n">db_1to1</span><span class="p">)</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">db_1to1</span><span class="p">)))</span>
<span class="n">klk</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">db_1to1</span> <span class="k">if</span> <span class="n">db_1to1</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">]</span>
<span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">klk</span><span class="p">[:</span><span class="mi">10</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Schultze_unpubl                  24348 24128 220
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
array([&#39;ENSG00000229951.6&#39;, &#39;ENSG00000122674.12&#39;, &#39;ENSG00000246308.4&#39;,
       &#39;ENSG00000276463.4&#39;, &#39;ENSG00000238258.1&#39;, &#39;ENSG00000008128.23&#39;,
       &#39;ENSG00000215068.10&#39;, &#39;ENSG00000265190.7&#39;, &#39;ENSG00000267481.1&#39;,
       &#39;ENSG00000197061.5&#39;], dtype=&#39;&lt;U18&#39;)
</pre></div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[89]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ddadaata</span> <span class="o">=</span> <span class="s2">&quot;Schultze_unpubl&quot;</span>
<span class="n">adata</span> <span class="o">=</span> <span class="n">sc</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">adata_dict</span><span class="p">[</span><span class="n">ddadaata</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span>
<span class="n">gene_list</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">adata</span><span class="o">.</span><span class="n">var</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
<span class="n">gene_list_filtered</span><span class="p">,</span> <span class="n">gene_list_converted</span><span class="p">,</span> <span class="n">gene_list_lost</span> <span class="o">=</span> <span class="n">tt</span><span class="o">.</span><span class="n">unfound_correct</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">adata</span><span class="o">.</span><span class="n">var</span><span class="o">.</span><span class="n">index</span><span class="p">))</span>

<span class="n">gene_list</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">gene_list</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ddadaata</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">gene_list_filtered</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="n">gene_list_filtered</span><span class="p">)</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">gene_list_filtered</span><span class="p">)))</span>
<span class="n">gene_list_filtered</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">gene_list_filtered</span><span class="p">)</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">gene_list_filtered</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">i</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">tt</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">nodes</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span>
<span class="nb">print</span><span class="p">(</span><span class="n">tt</span><span class="o">.</span><span class="n">identify_source</span><span class="p">(</span><span class="n">gene_list_filtered</span><span class="p">)[</span><span class="mi">0</span><span class="p">])</span>

<span class="n">a</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
<span class="k">for</span> <span class="n">ind</span><span class="p">,</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">gene_list_filtered</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">ind</span> <span class="o">%</span> <span class="mi">100</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">ind</span> <span class="o">&gt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">gene_list_filtered</span><span class="p">)</span><span class="o">-</span><span class="mi">5</span><span class="p">:</span>
        <span class="n">progress_bar</span><span class="p">(</span><span class="n">ind</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">gene_list_filtered</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">conv</span> <span class="o">=</span> <span class="n">tt</span><span class="o">.</span><span class="n">convert</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="s1">&#39;ensembl_gene&#39;</span><span class="p">,</span> <span class="n">prioritize_to_one_filter</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">return_path</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">conv</span>
<span class="n">result</span><span class="p">[</span><span class="n">ddadaata</span><span class="p">]</span> <span class="o">=</span> <span class="n">a</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">Counter</span><span class="p">([</span><span class="nb">len</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="k">if</span> <span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="mi">0</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">a</span><span class="p">])</span><span class="o">.</span><span class="n">most_common</span><span class="p">())[:</span><span class="mi">10</span><span class="p">])</span>
<span class="nb">print</span><span class="p">()</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">local_dir</span><span class="p">,</span> <span class="s2">&quot;results_databases_no_prioritize.pk&quot;</span><span class="p">),</span> <span class="s1">&#39;wb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">handle</span><span class="p">:</span>
    <span class="n">pickle</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">handle</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Saved&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
2022-08-16 13:05:46 WARNING:track: Number of converted IDs with small modifications: 444
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Schultze_unpubl 24532 1
((&#39;HGNC Symbol&#39;, 107), 19514)
Progress: |████████████████████| 100.0%
[(1, 18709), (2, 2800), (3, 1059), (4, 587), (5, 336), (6, 187), (7, 178), (8, 146), (9, 94), (10, 91)]

</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[29]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">local_dir</span><span class="p">,</span> <span class="s2">&quot;results_databases_no_prioritize.pk&quot;</span><span class="p">),</span> <span class="s1">&#39;rb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">handle</span><span class="p">:</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">handle</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Loaded&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Loaded
</pre></div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[30]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># ignore all 0&#39;s</span>
<span class="c1"># consume all 1-to-1s</span>

<span class="c1"># cakisik aileleri bul</span>
    <span class="c1"># 1-to-n&#39;s that at least one n id the same</span>

<span class="c1"># for each cakisik aile</span>
    <span class="c1"># nested_for_loop: asagidaki gibi, minimum olani sec.</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[31]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">networkx</span> <span class="k">as</span> <span class="nn">nx</span>
<span class="n">g</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">Graph</span><span class="p">()</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">result</span><span class="p">[</span><span class="s2">&quot;Schultze_unpubl&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
    <span class="k">if</span> <span class="n">result</span><span class="p">[</span><span class="s2">&quot;Schultze_unpubl&quot;</span><span class="p">][</span><span class="n">i</span><span class="p">]:</span>
        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="n">result</span><span class="p">[</span><span class="s2">&quot;Schultze_unpubl&quot;</span><span class="p">][</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="n">g</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Source::</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;Target::</span><span class="si">{</span><span class="n">j</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[32]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">consumed</span> <span class="o">=</span> <span class="p">{</span><span class="n">klk</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;Target::&quot;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="n">kl</span> <span class="ow">in</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">nx</span><span class="o">.</span><span class="n">connected_components</span><span class="p">(</span><span class="n">g</span><span class="p">))</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span><span class="p">]</span> <span class="k">for</span> <span class="n">klk</span> <span class="ow">in</span> <span class="n">kl</span> <span class="k">if</span> <span class="n">klk</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;Target::&quot;</span><span class="p">)}</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[33]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">temp_</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">nx</span><span class="o">.</span><span class="n">connected_components</span><span class="p">(</span><span class="n">g</span><span class="p">))</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">2</span><span class="p">]</span>
<span class="n">tp</span> <span class="o">=</span> <span class="p">[</span><span class="n">t</span> <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">temp_</span> <span class="k">if</span> <span class="nb">sum</span><span class="p">([</span><span class="n">i</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;Source::&quot;</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">t</span><span class="p">])</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">]</span> <span class="c1"># many-to-1 or many-to-many</span>
<span class="c1">#tp=[[j.split(&quot;::&quot;)[1] for j in i] for i in tp]</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[66]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">nx</span><span class="o">.</span><span class="n">connected_components</span><span class="p">(</span><span class="n">g</span><span class="p">))),</span> <span class="nb">len</span><span class="p">(</span><span class="n">temp_</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="n">tp</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[66]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
(20377, 2421, 1555)
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[34]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># [len(i) for i in tp]</span>
<span class="p">[</span><span class="n">klk</span> <span class="k">for</span> <span class="n">klk</span> <span class="ow">in</span> <span class="n">tp</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">if</span> <span class="n">klk</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;Target::&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">klk</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;Target::&quot;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span> <span class="ow">in</span> <span class="n">consumed</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[34]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[]
</pre></div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[35]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">playground</span><span class="o">=</span><span class="n">tp</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

<span class="n">asd</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">playground</span><span class="p">:</span>
    <span class="n">j</span><span class="p">,</span> <span class="n">k</span> <span class="o">=</span> <span class="n">i</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;::&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">j</span> <span class="o">==</span> <span class="s2">&quot;Source&quot;</span><span class="p">:</span>
        <span class="n">asd</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">result</span><span class="p">[</span><span class="s2">&quot;Schultze_unpubl&quot;</span><span class="p">][</span><span class="n">k</span><span class="p">]))</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[53]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">asdad</span> <span class="o">=</span> <span class="p">[</span><span class="n">g</span><span class="o">.</span><span class="n">degree</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">playground</span> <span class="k">if</span> <span class="n">i</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;Target::&quot;</span><span class="p">)]</span>
<span class="nb">len</span><span class="p">([</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">asdad</span> <span class="k">if</span> <span class="n">i</span><span class="o">!=</span> <span class="mi">1</span><span class="p">]),</span> <span class="nb">len</span><span class="p">(</span><span class="n">asdad</span><span class="p">),</span> <span class="nb">len</span><span class="p">([</span><span class="n">g</span><span class="o">.</span><span class="n">degree</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">playground</span> <span class="k">if</span> <span class="n">i</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;Source::&quot;</span><span class="p">)])</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[53]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
(187, 251, 164)
</pre></div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[87]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">amk</span> <span class="o">=</span> <span class="p">{</span><span class="n">i</span><span class="p">:</span> <span class="nb">list</span><span class="p">(</span><span class="n">g</span><span class="o">.</span><span class="n">neighbors</span><span class="p">(</span><span class="n">i</span><span class="p">))</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">playground</span> <span class="k">if</span> <span class="n">i</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;Target::&quot;</span><span class="p">)}</span>

<span class="n">amkr</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">amk</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="n">amk</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>
        <span class="k">if</span> <span class="n">j</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">amkr</span><span class="p">:</span>
            <span class="n">amkr</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">amkr</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[94]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="n">i</span><span class="p">:</span> <span class="n">s</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">amkr</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">amkr</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="o">==</span> <span class="mi">1</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">g</span><span class="o">.</span><span class="n">neighbors</span><span class="p">(</span><span class="n">i</span><span class="p">))}</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[94]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
{&#39;Source::MOCOS&#39;: &#39;Target::ENSG00000075643.6&#39;,
 &#39;Source::ADRA1B&#39;: &#39;Target::ENSG00000170214.5&#39;,
 &#39;Source::AC016876.2&#39;: &#39;Target::ENSG00000264772.6&#39;,
 &#39;Source::PSMD7P1&#39;: &#39;Target::ENSG00000266707.1&#39;,
 &#39;Source::PMAIP1&#39;: &#39;Target::ENSG00000141682.12&#39;,
 &#39;Source::PAG1&#39;: &#39;Target::ENSG00000076641.4&#39;,
 &#39;Source::ANOS1&#39;: &#39;Target::ENSG00000011201.12&#39;,
 &#39;Source::APOBEC3C&#39;: &#39;Target::ENSG00000244509.4&#39;,
 &#39;Source::TIMP3&#39;: &#39;Target::ENSG00000100234.12&#39;,
 &#39;Source::EP300&#39;: &#39;Target::ENSG00000100393.14&#39;,
 &#39;Source::APOBEC2&#39;: &#39;Target::ENSG00000124701.6&#39;,
 &#39;Source::SELENOP&#39;: &#39;Target::ENSG00000250722.6&#39;,
 &#39;Source::CRK&#39;: &#39;Target::ENSG00000167193.8&#39;,
 &#39;Source::GJA1&#39;: &#39;Target::ENSG00000152661.9&#39;,
 &#39;Source::GFER&#39;: &#39;Target::ENSG00000127554.13&#39;,
 &#39;Source::PRDX1P1&#39;: &#39;Target::ENSG00000214121.4&#39;}
</pre></div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[97]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="n">dm</span><span class="o">.</span><span class="n">get_table</span><span class="p">(</span><span class="s2">&quot;xref&quot;</span><span class="p">,</span> <span class="n">usecols</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;xref_id&quot;</span><span class="p">,</span> <span class="s2">&quot;external_db_id&quot;</span><span class="p">,</span> <span class="s2">&quot;dbprimary_acc&quot;</span><span class="p">,</span> <span class="s2">&quot;display_label&quot;</span><span class="p">],</span>  <span class="n">save_after_calculation</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[108]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">es</span> <span class="o">=</span> <span class="n">dm</span><span class="o">.</span><span class="n">get_table</span><span class="p">(</span><span class="s2">&quot;external_synonym&quot;</span><span class="p">,</span> <span class="n">usecols</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;xref_id&quot;</span><span class="p">,</span> <span class="s2">&quot;synonym&quot;</span><span class="p">],</span> <span class="n">save_after_calculation</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">esm</span> <span class="o">=</span> <span class="n">es</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s2">&quot;inner&quot;</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="s2">&quot;xref_id&quot;</span><span class="p">,</span> <span class="n">validate</span><span class="o">=</span><span class="s2">&quot;many_to_one&quot;</span><span class="p">)</span>
<span class="n">esm</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;display_label&quot;</span><span class="p">],</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">esm</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;synonym&quot;</span><span class="p">:</span> <span class="s2">&quot;display_label&quot;</span><span class="p">},</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[153]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dm</span><span class="o">.</span><span class="n">change_server</span><span class="p">(</span><span class="mi">38</span><span class="p">)</span><span class="o">.</span><span class="n">clean_up</span><span class="p">([</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">dm</span><span class="o">.</span><span class="n">change_server</span><span class="p">(</span><span class="mi">38</span><span class="p">)</span><span class="o">.</span><span class="n">tables_in_disk</span><span class="p">()</span> <span class="k">if</span> <span class="s1">&#39;processed_external&#39;</span> <span class="ow">in</span> <span class="n">i</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
/home/icb/kemal.inecik/work/codes/idtrack/docs/_notebooks/../../idtrack/_database_manager.py:1080: PerformanceWarning:
your performance may suffer as PyTables will pickle object types that it cannot
map directly to c-types [inferred_type-&gt;mixed,key-&gt;block0_values] [items-&gt;Index([&#39;old_stable_id&#39;, &#39;new_stable_id&#39;, &#39;type&#39;], dtype=&#39;object&#39;, name=0)]

  df.to_hdf(file_path, key=hierarchy, mode=&#34;a&#34;, **self._comp_hdf5)
</pre></div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[154]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dm</span><span class="o">.</span><span class="n">change_server</span><span class="p">(</span><span class="mi">37</span><span class="p">)</span><span class="o">.</span><span class="n">clean_up</span><span class="p">([</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">dm</span><span class="o">.</span><span class="n">change_server</span><span class="p">(</span><span class="mi">37</span><span class="p">)</span><span class="o">.</span><span class="n">tables_in_disk</span><span class="p">()</span> <span class="k">if</span> <span class="s1">&#39;processed_external&#39;</span> <span class="ow">in</span> <span class="n">i</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[55]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">the_id_1</span><span class="p">,</span> <span class="n">the_id_2</span><span class="p">,</span> <span class="n">the_id_3</span> <span class="o">=</span> <span class="s2">&quot;ROR1&quot;</span><span class="p">,</span> <span class="s2">&quot;ROR2&quot;</span><span class="p">,</span> <span class="s2">&quot;RORA&quot;</span>
<span class="nb">print</span><span class="p">(</span><span class="n">tt</span><span class="o">.</span><span class="n">convert</span><span class="p">(</span><span class="n">the_id_1</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="s1">&#39;ensembl_gene&#39;</span><span class="p">,</span> <span class="n">return_path</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">prioritize_to_one_filter</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">tt</span><span class="o">.</span><span class="n">convert</span><span class="p">(</span><span class="n">the_id_2</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="s1">&#39;ensembl_gene&#39;</span><span class="p">,</span> <span class="n">return_path</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">prioritize_to_one_filter</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">tt</span><span class="o">.</span><span class="n">convert</span><span class="p">(</span><span class="n">the_id_3</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="s1">&#39;ensembl_gene&#39;</span><span class="p">,</span> <span class="n">return_path</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">prioritize_to_one_filter</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
{&#39;ENSG00000069667.16&#39;: [-1, -1, 0.9961195, 7, 0, 14]}
{&#39;ENSG00000069667.16&#39;: [-1, -1, 0.9961195, 7, 0, 14]}
{&#39;ENSG00000069667.16&#39;: [-1, -1, 0.9961195, 7, 0, 14]}
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[56]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">a1</span><span class="o">=</span><span class="n">tt</span><span class="o">.</span><span class="n">convert</span><span class="p">(</span><span class="n">the_id_1</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="s1">&#39;ensembl_gene&#39;</span><span class="p">,</span> <span class="n">return_path</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">prioritize_to_one_filter</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">a1</span>
<span class="c1">## bu neden 1 varken 2&#39;yi de aldi amk</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[56]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
{&#39;ENSG00000069667.16&#39;: [1, 1, 0.9961195, 4],
 &#39;ENSG00000169071.15&#39;: [1, 3, 0.9767402500000001, 4],
 &#39;ENSG00000185483.13&#39;: [1, 1, 0.9950012000000001, 5]}
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[57]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">a2</span><span class="o">=</span><span class="n">tt</span><span class="o">.</span><span class="n">convert</span><span class="p">(</span><span class="n">the_id_2</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="s1">&#39;ensembl_gene&#39;</span><span class="p">,</span> <span class="n">return_path</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">prioritize_to_one_filter</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">a2</span>
<span class="c1">## bu neden 1 varken 2&#39;yi de aldi amk</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[57]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
{&#39;ENSG00000169071.15&#39;: [1, 1, 0.9767402500000001, 4],
 &#39;ENSG00000185483.13&#39;: [1, 3, 0.9950012000000001, 5],
 &#39;ENSG00000069667.16&#39;: [1, 1, 0.9961195, 4]}
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[58]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">a3</span><span class="o">=</span><span class="n">tt</span><span class="o">.</span><span class="n">convert</span><span class="p">(</span><span class="n">the_id_3</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="s1">&#39;ensembl_gene&#39;</span><span class="p">,</span> <span class="n">return_path</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">prioritize_to_one_filter</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">a3</span>
<span class="c1">## bu neden 1 varken 2&#39;yi de aldi amk</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[58]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
{&#39;ENSG00000069667.16&#39;: [1, 1, 0.9961195, 4],
 &#39;ENSG00000169071.15&#39;: [1, 3, 0.9767402500000001, 4],
 &#39;ENSG00000185483.13&#39;: [1, 3, 0.9950012000000001, 5]}
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[70]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">list</span><span class="p">(</span><span class="n">a1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[70]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[&#39;ENSG00000069667.16&#39;, &#39;ENSG00000169071.15&#39;, &#39;ENSG00000185483.13&#39;]
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[71]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">list</span><span class="p">(</span><span class="n">a2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[71]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[&#39;ENSG00000169071.15&#39;, &#39;ENSG00000185483.13&#39;, &#39;ENSG00000069667.16&#39;]
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[60]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">[(</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">a1</span> <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="n">a2</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">a3</span> <span class="k">if</span> <span class="n">i</span><span class="o">!=</span><span class="n">j</span> <span class="ow">or</span> <span class="n">j</span><span class="o">!=</span><span class="n">k</span> <span class="ow">or</span> <span class="n">i</span><span class="o">!=</span><span class="n">k</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[60]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[(&#39;ENSG00000069667.16&#39;, &#39;ENSG00000169071.15&#39;),
 (&#39;ENSG00000069667.16&#39;, &#39;ENSG00000169071.15&#39;),
 (&#39;ENSG00000069667.16&#39;, &#39;ENSG00000169071.15&#39;),
 (&#39;ENSG00000069667.16&#39;, &#39;ENSG00000185483.13&#39;),
 (&#39;ENSG00000069667.16&#39;, &#39;ENSG00000185483.13&#39;),
 (&#39;ENSG00000069667.16&#39;, &#39;ENSG00000185483.13&#39;),
 (&#39;ENSG00000069667.16&#39;, &#39;ENSG00000069667.16&#39;),
 (&#39;ENSG00000069667.16&#39;, &#39;ENSG00000069667.16&#39;),
 (&#39;ENSG00000169071.15&#39;, &#39;ENSG00000169071.15&#39;),
 (&#39;ENSG00000169071.15&#39;, &#39;ENSG00000169071.15&#39;),
 (&#39;ENSG00000169071.15&#39;, &#39;ENSG00000185483.13&#39;),
 (&#39;ENSG00000169071.15&#39;, &#39;ENSG00000185483.13&#39;),
 (&#39;ENSG00000169071.15&#39;, &#39;ENSG00000185483.13&#39;),
 (&#39;ENSG00000169071.15&#39;, &#39;ENSG00000069667.16&#39;),
 (&#39;ENSG00000169071.15&#39;, &#39;ENSG00000069667.16&#39;),
 (&#39;ENSG00000169071.15&#39;, &#39;ENSG00000069667.16&#39;),
 (&#39;ENSG00000185483.13&#39;, &#39;ENSG00000169071.15&#39;),
 (&#39;ENSG00000185483.13&#39;, &#39;ENSG00000169071.15&#39;),
 (&#39;ENSG00000185483.13&#39;, &#39;ENSG00000169071.15&#39;),
 (&#39;ENSG00000185483.13&#39;, &#39;ENSG00000185483.13&#39;),
 (&#39;ENSG00000185483.13&#39;, &#39;ENSG00000185483.13&#39;),
 (&#39;ENSG00000185483.13&#39;, &#39;ENSG00000069667.16&#39;),
 (&#39;ENSG00000185483.13&#39;, &#39;ENSG00000069667.16&#39;),
 (&#39;ENSG00000185483.13&#39;, &#39;ENSG00000069667.16&#39;)]
</pre></div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[63]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">b1</span><span class="o">=</span> <span class="n">tt</span><span class="o">.</span><span class="n">scorer_for_1_to_n</span><span class="p">(</span><span class="n">a1</span><span class="p">,</span> <span class="n">return_path</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">return_best</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">b2</span><span class="o">=</span> <span class="n">tt</span><span class="o">.</span><span class="n">scorer_for_1_to_n</span><span class="p">(</span><span class="n">a2</span><span class="p">,</span> <span class="n">return_path</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">return_best</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">b3</span><span class="o">=</span> <span class="n">tt</span><span class="o">.</span><span class="n">scorer_for_1_to_n</span><span class="p">(</span><span class="n">a3</span><span class="p">,</span> <span class="n">return_path</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">return_best</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">_</span><span class="o">=</span><span class="p">[(</span><span class="n">b1</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">b2</span><span class="p">[</span><span class="n">j</span><span class="p">],</span> <span class="n">b3</span><span class="p">[</span><span class="n">k</span><span class="p">])</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">b1</span> <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="n">b2</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">b3</span> <span class="k">if</span> <span class="n">i</span><span class="o">!=</span><span class="n">j</span> <span class="ow">or</span> <span class="n">j</span><span class="o">!=</span><span class="n">k</span> <span class="ow">or</span> <span class="n">i</span><span class="o">!=</span><span class="n">k</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[65]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">operator</span>
<span class="n">c</span> <span class="o">=</span> <span class="p">[</span><span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="n">operator</span><span class="o">.</span><span class="n">add</span><span class="p">,</span> <span class="nb">map</span><span class="p">(</span><span class="n">operator</span><span class="o">.</span><span class="n">add</span><span class="p">,</span> <span class="n">b1</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">b2</span><span class="p">[</span><span class="n">j</span><span class="p">]),</span> <span class="n">b3</span><span class="p">[</span><span class="n">k</span><span class="p">]))</span> <span class="o">+</span> <span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">k</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">b1</span> <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="n">b2</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">b3</span> <span class="k">if</span> <span class="n">i</span><span class="o">!=</span><span class="n">j</span> <span class="ow">or</span> <span class="n">j</span><span class="o">!=</span><span class="n">k</span> <span class="ow">or</span> <span class="n">i</span><span class="o">!=</span><span class="n">k</span><span class="p">]</span>
<span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[65]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
array([[&#39;-3&#39;, &#39;-3&#39;, &#39;2.9689792500000003&#39;, &#39;19&#39;, &#39;0&#39;, &#39;36&#39;,
        &#39;ENSG00000069667.16&#39;, &#39;ENSG00000169071.15&#39;, &#39;ENSG00000069667.16&#39;],
       [&#39;-3&#39;, &#39;-5&#39;, &#39;2.9496&#39;, &#39;17&#39;, &#39;0&#39;, &#39;30&#39;, &#39;ENSG00000069667.16&#39;,
        &#39;ENSG00000169071.15&#39;, &#39;ENSG00000169071.15&#39;],
       [&#39;-3&#39;, &#39;-5&#39;, &#39;2.9678609500000004&#39;, &#39;15&#39;, &#39;0&#39;, &#39;25&#39;,
        &#39;ENSG00000069667.16&#39;, &#39;ENSG00000169071.15&#39;, &#39;ENSG00000185483.13&#39;],
       [&#39;-3&#39;, &#39;-5&#39;, &#39;2.9872402000000005&#39;, &#39;17&#39;, &#39;0&#39;, &#39;31&#39;,
        &#39;ENSG00000069667.16&#39;, &#39;ENSG00000185483.13&#39;, &#39;ENSG00000069667.16&#39;],
       [&#39;-3&#39;, &#39;-7&#39;, &#39;2.9678609500000004&#39;, &#39;15&#39;, &#39;0&#39;, &#39;25&#39;,
        &#39;ENSG00000069667.16&#39;, &#39;ENSG00000185483.13&#39;, &#39;ENSG00000169071.15&#39;],
       [&#39;-3&#39;, &#39;-7&#39;, &#39;2.9861219000000006&#39;, &#39;13&#39;, &#39;0&#39;, &#39;20&#39;,
        &#39;ENSG00000069667.16&#39;, &#39;ENSG00000185483.13&#39;, &#39;ENSG00000185483.13&#39;],
       [&#39;-3&#39;, &#39;-5&#39;, &#39;2.9689792500000003&#39;, &#39;19&#39;, &#39;0&#39;, &#39;36&#39;,
        &#39;ENSG00000069667.16&#39;, &#39;ENSG00000069667.16&#39;, &#39;ENSG00000169071.15&#39;],
       [&#39;-3&#39;, &#39;-5&#39;, &#39;2.9872402000000005&#39;, &#39;17&#39;, &#39;0&#39;, &#39;31&#39;,
        &#39;ENSG00000069667.16&#39;, &#39;ENSG00000069667.16&#39;, &#39;ENSG00000185483.13&#39;],
       [&#39;-3&#39;, &#39;-5&#39;, &#39;2.9496&#39;, &#39;17&#39;, &#39;0&#39;, &#39;30&#39;, &#39;ENSG00000169071.15&#39;,
        &#39;ENSG00000169071.15&#39;, &#39;ENSG00000069667.16&#39;],
       [&#39;-3&#39;, &#39;-7&#39;, &#39;2.9484817000000003&#39;, &#39;13&#39;, &#39;0&#39;, &#39;19&#39;,
        &#39;ENSG00000169071.15&#39;, &#39;ENSG00000169071.15&#39;, &#39;ENSG00000185483.13&#39;],
       [&#39;-3&#39;, &#39;-7&#39;, &#39;2.9678609500000004&#39;, &#39;15&#39;, &#39;0&#39;, &#39;25&#39;,
        &#39;ENSG00000169071.15&#39;, &#39;ENSG00000185483.13&#39;, &#39;ENSG00000069667.16&#39;],
       [&#39;-3&#39;, &#39;-9&#39;, &#39;2.9484817000000003&#39;, &#39;13&#39;, &#39;0&#39;, &#39;19&#39;,
        &#39;ENSG00000169071.15&#39;, &#39;ENSG00000185483.13&#39;, &#39;ENSG00000169071.15&#39;],
       [&#39;-3&#39;, &#39;-9&#39;, &#39;2.9667426500000005&#39;, &#39;11&#39;, &#39;0&#39;, &#39;14&#39;,
        &#39;ENSG00000169071.15&#39;, &#39;ENSG00000185483.13&#39;, &#39;ENSG00000185483.13&#39;],
       [&#39;-3&#39;, &#39;-5&#39;, &#39;2.9689792500000003&#39;, &#39;19&#39;, &#39;0&#39;, &#39;36&#39;,
        &#39;ENSG00000169071.15&#39;, &#39;ENSG00000069667.16&#39;, &#39;ENSG00000069667.16&#39;],
       [&#39;-3&#39;, &#39;-7&#39;, &#39;2.9496&#39;, &#39;17&#39;, &#39;0&#39;, &#39;30&#39;, &#39;ENSG00000169071.15&#39;,
        &#39;ENSG00000069667.16&#39;, &#39;ENSG00000169071.15&#39;],
       [&#39;-3&#39;, &#39;-7&#39;, &#39;2.9678609500000004&#39;, &#39;15&#39;, &#39;0&#39;, &#39;25&#39;,
        &#39;ENSG00000169071.15&#39;, &#39;ENSG00000069667.16&#39;, &#39;ENSG00000185483.13&#39;],
       [&#39;-3&#39;, &#39;-3&#39;, &#39;2.9678609500000004&#39;, &#39;15&#39;, &#39;0&#39;, &#39;25&#39;,
        &#39;ENSG00000185483.13&#39;, &#39;ENSG00000169071.15&#39;, &#39;ENSG00000069667.16&#39;],
       [&#39;-3&#39;, &#39;-5&#39;, &#39;2.9484817000000003&#39;, &#39;13&#39;, &#39;0&#39;, &#39;19&#39;,
        &#39;ENSG00000185483.13&#39;, &#39;ENSG00000169071.15&#39;, &#39;ENSG00000169071.15&#39;],
       [&#39;-3&#39;, &#39;-5&#39;, &#39;2.9667426500000005&#39;, &#39;11&#39;, &#39;0&#39;, &#39;14&#39;,
        &#39;ENSG00000185483.13&#39;, &#39;ENSG00000169071.15&#39;, &#39;ENSG00000185483.13&#39;],
       [&#39;-3&#39;, &#39;-5&#39;, &#39;2.9861219000000006&#39;, &#39;13&#39;, &#39;0&#39;, &#39;20&#39;,
        &#39;ENSG00000185483.13&#39;, &#39;ENSG00000185483.13&#39;, &#39;ENSG00000069667.16&#39;],
       [&#39;-3&#39;, &#39;-7&#39;, &#39;2.9667426500000005&#39;, &#39;11&#39;, &#39;0&#39;, &#39;14&#39;,
        &#39;ENSG00000185483.13&#39;, &#39;ENSG00000185483.13&#39;, &#39;ENSG00000169071.15&#39;],
       [&#39;-3&#39;, &#39;-3&#39;, &#39;2.9872402000000005&#39;, &#39;17&#39;, &#39;0&#39;, &#39;31&#39;,
        &#39;ENSG00000185483.13&#39;, &#39;ENSG00000069667.16&#39;, &#39;ENSG00000069667.16&#39;],
       [&#39;-3&#39;, &#39;-5&#39;, &#39;2.9678609500000004&#39;, &#39;15&#39;, &#39;0&#39;, &#39;25&#39;,
        &#39;ENSG00000185483.13&#39;, &#39;ENSG00000069667.16&#39;, &#39;ENSG00000169071.15&#39;],
       [&#39;-3&#39;, &#39;-5&#39;, &#39;2.9861219000000006&#39;, &#39;13&#39;, &#39;0&#39;, &#39;20&#39;,
        &#39;ENSG00000185483.13&#39;, &#39;ENSG00000069667.16&#39;, &#39;ENSG00000185483.13&#39;]],
      dtype=&#39;&lt;U32&#39;)
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[69]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">sorted</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">reverse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[69]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[[-3,
  -3,
  2.9872402000000005,
  17,
  0,
  31,
  &#39;ENSG00000185483.13&#39;,
  &#39;ENSG00000069667.16&#39;,
  &#39;ENSG00000069667.16&#39;],
 [-3,
  -3,
  2.9689792500000003,
  19,
  0,
  36,
  &#39;ENSG00000069667.16&#39;,
  &#39;ENSG00000169071.15&#39;,
  &#39;ENSG00000069667.16&#39;],
 [-3,
  -3,
  2.9678609500000004,
  15,
  0,
  25,
  &#39;ENSG00000185483.13&#39;,
  &#39;ENSG00000169071.15&#39;,
  &#39;ENSG00000069667.16&#39;],
 [-3,
  -5,
  2.9872402000000005,
  17,
  0,
  31,
  &#39;ENSG00000069667.16&#39;,
  &#39;ENSG00000185483.13&#39;,
  &#39;ENSG00000069667.16&#39;],
 [-3,
  -5,
  2.9872402000000005,
  17,
  0,
  31,
  &#39;ENSG00000069667.16&#39;,
  &#39;ENSG00000069667.16&#39;,
  &#39;ENSG00000185483.13&#39;],
 [-3,
  -5,
  2.9861219000000006,
  13,
  0,
  20,
  &#39;ENSG00000185483.13&#39;,
  &#39;ENSG00000185483.13&#39;,
  &#39;ENSG00000069667.16&#39;],
 [-3,
  -5,
  2.9861219000000006,
  13,
  0,
  20,
  &#39;ENSG00000185483.13&#39;,
  &#39;ENSG00000069667.16&#39;,
  &#39;ENSG00000185483.13&#39;],
 [-3,
  -5,
  2.9689792500000003,
  19,
  0,
  36,
  &#39;ENSG00000169071.15&#39;,
  &#39;ENSG00000069667.16&#39;,
  &#39;ENSG00000069667.16&#39;],
 [-3,
  -5,
  2.9689792500000003,
  19,
  0,
  36,
  &#39;ENSG00000069667.16&#39;,
  &#39;ENSG00000069667.16&#39;,
  &#39;ENSG00000169071.15&#39;],
 [-3,
  -5,
  2.9678609500000004,
  15,
  0,
  25,
  &#39;ENSG00000185483.13&#39;,
  &#39;ENSG00000069667.16&#39;,
  &#39;ENSG00000169071.15&#39;],
 [-3,
  -5,
  2.9678609500000004,
  15,
  0,
  25,
  &#39;ENSG00000069667.16&#39;,
  &#39;ENSG00000169071.15&#39;,
  &#39;ENSG00000185483.13&#39;],
 [-3,
  -5,
  2.9667426500000005,
  11,
  0,
  14,
  &#39;ENSG00000185483.13&#39;,
  &#39;ENSG00000169071.15&#39;,
  &#39;ENSG00000185483.13&#39;],
 [-3,
  -5,
  2.9496,
  17,
  0,
  30,
  &#39;ENSG00000169071.15&#39;,
  &#39;ENSG00000169071.15&#39;,
  &#39;ENSG00000069667.16&#39;],
 [-3,
  -5,
  2.9496,
  17,
  0,
  30,
  &#39;ENSG00000069667.16&#39;,
  &#39;ENSG00000169071.15&#39;,
  &#39;ENSG00000169071.15&#39;],
 [-3,
  -5,
  2.9484817000000003,
  13,
  0,
  19,
  &#39;ENSG00000185483.13&#39;,
  &#39;ENSG00000169071.15&#39;,
  &#39;ENSG00000169071.15&#39;],
 [-3,
  -7,
  2.9861219000000006,
  13,
  0,
  20,
  &#39;ENSG00000069667.16&#39;,
  &#39;ENSG00000185483.13&#39;,
  &#39;ENSG00000185483.13&#39;],
 [-3,
  -7,
  2.9678609500000004,
  15,
  0,
  25,
  &#39;ENSG00000169071.15&#39;,
  &#39;ENSG00000185483.13&#39;,
  &#39;ENSG00000069667.16&#39;],
 [-3,
  -7,
  2.9678609500000004,
  15,
  0,
  25,
  &#39;ENSG00000169071.15&#39;,
  &#39;ENSG00000069667.16&#39;,
  &#39;ENSG00000185483.13&#39;],
 [-3,
  -7,
  2.9678609500000004,
  15,
  0,
  25,
  &#39;ENSG00000069667.16&#39;,
  &#39;ENSG00000185483.13&#39;,
  &#39;ENSG00000169071.15&#39;],
 [-3,
  -7,
  2.9667426500000005,
  11,
  0,
  14,
  &#39;ENSG00000185483.13&#39;,
  &#39;ENSG00000185483.13&#39;,
  &#39;ENSG00000169071.15&#39;],
 [-3,
  -7,
  2.9496,
  17,
  0,
  30,
  &#39;ENSG00000169071.15&#39;,
  &#39;ENSG00000069667.16&#39;,
  &#39;ENSG00000169071.15&#39;],
 [-3,
  -7,
  2.9484817000000003,
  13,
  0,
  19,
  &#39;ENSG00000169071.15&#39;,
  &#39;ENSG00000169071.15&#39;,
  &#39;ENSG00000185483.13&#39;],
 [-3,
  -9,
  2.9667426500000005,
  11,
  0,
  14,
  &#39;ENSG00000169071.15&#39;,
  &#39;ENSG00000185483.13&#39;,
  &#39;ENSG00000185483.13&#39;],
 [-3,
  -9,
  2.9484817000000003,
  13,
  0,
  19,
  &#39;ENSG00000169071.15&#39;,
  &#39;ENSG00000185483.13&#39;,
  &#39;ENSG00000169071.15&#39;]]
</pre></div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[15]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">rc37</span> <span class="o">=</span> <span class="n">Dataset</span><span class="p">(</span><span class="n">dm</span><span class="o">.</span><span class="n">change_server</span><span class="p">(</span><span class="mi">37</span><span class="p">),</span> <span class="n">narrow_search</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">initialize_external_conversion</span><span class="p">()</span>
<span class="c1">#rc38 = Dataset(dm.change_server(38), narrow_search=False).initialize_external_conversion()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
2022-08-12 22:26:23 INFO:dataset: Comparison data frame is being constructed for releases: [107, 106, 105, 104, 103, 102, 101, 100, 99, 98, 97, 96, 95, 94, 93, 92, 91, 90, 89, 88, 87, 86, 85, 84, 83, 82, 81, 80, 79].
</pre></div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[16]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">d</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">unique</span><span class="p">(</span><span class="n">rc37</span><span class="p">[</span><span class="s1">&#39;id_db&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[17]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">d</span> <span class="k">if</span> <span class="s2">&quot;YX65C7&quot;</span> <span class="ow">in</span> <span class="n">i</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[17]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[&#39;XXyac-YX65C7_A.2&#39;, &#39;XXyac-YX65C7_A.3&#39;, &#39;XXyac-YX65C7_A.4&#39;]
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[18]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;PRED58&quot;</span> <span class="ow">in</span> <span class="n">d</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[18]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
True
</pre></div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[19]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">amk</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">a</span> <span class="k">if</span> <span class="n">i</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">d</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[20]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="nb">len</span><span class="p">([</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">a</span> <span class="k">if</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">d</span><span class="p">]))</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">amk</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
58
113
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[21]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">amk</span> <span class="k">if</span> <span class="n">i</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">d</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[21]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
array([&#39;RP11-442N24--B.1&#39;, &#39;RP11-99J16--A.2&#39;, &#39;RP11-59D5--B.2&#39;,
       &#39;RP11-445L13--B.3&#39;, &#39;RP11-544L8--B.4&#39;, &#39;XXyac-YX65C7-A.2&#39;,
       &#39;XXyac-YX65C7-A.3&#39;, &#39;RP11-524D16--A.3&#39;, &#39;RP11-453F18--B.1&#39;,
       &#39;Metazoa-SRP&#39;, &#39;Y-RNA&#39;, &#39;XX-DJ76P10--A.2&#39;, &#39;5S-rRNA&#39;, &#39;Y-RNA.1&#39;,
       &#39;Y-RNA.2&#39;, &#39;RP11-1157N2--B.2&#39;, &#39;RP1-213J1P--B.1&#39;,
       &#39;RP1-213J1P--B.2&#39;, &#39;RP4-633O19--A.1&#39;, &#39;RP4-754E20--A.5&#39;,
       &#39;CTA-280A3--B.2&#39;], dtype=&#39;&lt;U16&#39;)
</pre></div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[22]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># sonra da combinatorial olarak _ to - degisikligi yap..</span>

<span class="c1"># np.array([i for i in amk if i.split(&#39;.&#39;)[0] not in d])</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[23]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">jkl</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
<span class="n">askdnmkajsdn</span> <span class="o">=</span> <span class="n">rc37</span><span class="p">[</span><span class="s2">&quot;name_db&quot;</span><span class="p">]</span>
<span class="k">for</span> <span class="n">ind</span><span class="p">,</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">([</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">a</span> <span class="k">if</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">d</span><span class="p">]):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">ind</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s2">&quot;,&quot;</span><span class="p">)</span>
    <span class="n">jkl</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">askdnmkajsdn</span><span class="p">[</span><span class="n">rc37</span><span class="p">[</span><span class="s2">&quot;id_db&quot;</span><span class="p">]</span><span class="o">==</span><span class="n">i</span><span class="p">])</span>
<br/></pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[24]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">unique</span><span class="p">(</span><span class="n">rc37</span><span class="p">[</span><span class="n">rc37</span><span class="p">[</span><span class="s2">&quot;id_db&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;FLJ27365&#39;</span><span class="p">][</span><span class="s2">&quot;name_db&quot;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[24]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
array([&#39;UniProtKB Gene Name&#39;, &#39;Uniprot_gn&#39;], dtype=object)
</pre></div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[26]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ex</span><span class="o">=</span><span class="n">dm</span><span class="o">.</span><span class="n">create_external_all</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[36]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">unique</span><span class="p">(</span><span class="n">ex</span><span class="p">[</span><span class="n">ex</span><span class="p">[</span><span class="s1">&#39;assembly&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">37</span><span class="p">][</span><span class="s1">&#39;name_db&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[36]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
array([&#39;Clone_based_ensembl_gene&#39;, &#39;Clone_based_vega_gene&#39;, &#39;Havana gene&#39;,
       &#39;RFAM&#39;], dtype=object)
</pre></div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[91]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[91]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
array([&#39;RFAM&#39;], dtype=object)
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[57]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">jkl</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
<span class="n">askdnmkajsdn</span> <span class="o">=</span> <span class="n">rc37</span><span class="p">[</span><span class="s2">&quot;name_db&quot;</span><span class="p">]</span>
<span class="k">for</span> <span class="n">ind</span><span class="p">,</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">a</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">ind</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s2">&quot;,&quot;</span><span class="p">)</span>
    <span class="n">jkl</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">askdnmkajsdn</span><span class="p">[</span><span class="n">rc37</span><span class="p">[</span><span class="s2">&quot;id_db&quot;</span><span class="p">]</span><span class="o">==</span><span class="n">i</span><span class="p">])</span>
<br/></pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,384,385,386,387,388,389,390,391,392,393,394,395,396,397,398,399,400,401,402,403,404,405,406,407,408,409,410,411,412,413,414,415,416,417,418,419,420,421,422,423,424,425,426,427,428,429,430,431,432,433,434,435,436,437,438,439,440,441,442,443,444,445,446,447,448,449,450,451,452,453,454,455,456,457,458,459,460,461,462,463,464,465,466,467,468,469,470,471,472,473,474,475,476,477,478,479,480,481,482,483,484,485,486,487,488,489,490,491,492,493,494,495,496,497,498,499,500,501,502,503,504,505,506,507,508,509,510,511,512,513,514,515,516,517,518,519,520,521,522,523,524,525,526,527,528,529,530,531,532,533,534,535,536,537,538,539,540,541,542,543,544,545,546,547,548,549,550,551,552,553,554,555,556,557,558,559,560,561,562,563,564,565,566,567,568,569,570,571,572,573,574,575,576,577,578,579,580,581,582,583,584,585,586,587,588,589,590,591,592,593,594,595,596,597,598,599,600,601,602,603,604,605,606,607,608,609,610,611,612,613,614,615,616,617,618,619,620,621,622,623,624,625,626,627,628,629,630,631,632,633,634,635,636,
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[59]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">Counter</span><span class="p">([</span><span class="n">j</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">jkl</span> <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="n">jkl</span><span class="p">[</span><span class="n">i</span><span class="p">]])</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[59]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Counter({&#39;Clone-based (Vega) gene&#39;: 377,
         &#39;Clone_based_vega_gene&#39;: 377,
         &#39;Clone-based (Vega)&#39;: 377,
         &#39;Clone-based (Ensembl) gene&#39;: 87,
         &#39;Clone-based (Ensembl)&#39;: 87,
         &#39;Clone_based_ensembl_gene&#39;: 87,
         &#39;EntrezGene&#39;: 41,
         &#39;Uniprot_gn&#39;: 42,
         &#39;HGNC Symbol&#39;: 20,
         &#39;NCBI gene (formerly Entrezgene)&#39;: 41,
         &#39;WikiGene&#39;: 17,
         &#39;UniProtKB Gene Name&#39;: 42,
         &#39;RFAM&#39;: 2})
</pre></div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">=</span><span class="n">dm</span><span class="o">.</span><span class="n">create_external_all</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ExternalDatabases</span><span class="p">(</span><span class="n">dm</span><span class="p">)</span><span class="o">.</span><span class="n">give_list_for_case</span><span class="p">(</span><span class="n">give_type</span><span class="o">=</span><span class="s2">&quot;db&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[&#39;EntrezGene&#39;,
 &#39;UniProtKB Gene Name&#39;,
 &#39;NCBI gene (formerly Entrezgene)&#39;,
 &#39;HGNC Symbol&#39;]
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;assembly&#39;</span><span class="p">]</span><span class="o">==</span><span class="mi">38</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
202607
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;assembly&#39;</span><span class="p">]</span><span class="o">==</span><span class="mi">37</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
76298
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[13]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">unique</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;assembly&#39;</span><span class="p">]</span><span class="o">==</span><span class="mi">37</span><span class="p">][</span><span class="s2">&quot;name_db&quot;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[13]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
array([&#39;Clone_based_ensembl_gene&#39;, &#39;Clone_based_vega_gene&#39;, &#39;Havana gene&#39;],
      dtype=object)
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[12]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;graph_id&#39;</span><span class="p">]</span><span class="o">==</span><span class="s1">&#39;ENSG00000173727.7&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[12]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>release</th>
      <th>graph_id</th>
      <th>id_db</th>
      <th>name_db</th>
      <th>ensembl_identity</th>
      <th>xref_identity</th>
      <th>assembly</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>202611</th>
      <td>107</td>
      <td>ENSG00000173727.7</td>
      <td>AP000769.1</td>
      <td>Clone_based_ensembl_gene</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>37</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[110]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">the_dict</span><span class="p">[</span><span class="n">db_name</span><span class="p">][</span><span class="s2">&quot;Assembly&quot;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[110]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
{&#39;37&#39;: {&#39;Ensembl release&#39;: &#39;79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107&#39;,
  &#39;Include&#39;: False},
 &#39;38&#39;: {&#39;Ensembl release&#39;: &#39;79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107&#39;,
  &#39;Include&#39;: False}}
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><br/><span></span><span class="bp">self</span> <span class="o">=</span> <span class="n">ExternalDatabases</span><span class="p">(</span><span class="n">dm</span><span class="p">)</span>
<span class="n">give_type</span><span class="o">=</span><span class="s1">&#39;assembly&#39;</span>
<span class="n">the_dict_loaded</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">load_modified_yaml</span><span class="p">()</span>
<span class="n">the_dict</span> <span class="o">=</span> <span class="n">the_dict_loaded</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">db_manager</span><span class="o">.</span><span class="n">organism</span><span class="p">][</span><span class="bp">self</span><span class="o">.</span><span class="n">db_manager</span><span class="o">.</span><span class="n">form</span><span class="p">]</span>

<span class="n">result</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
<span class="k">for</span> <span class="n">db_name</span> <span class="ow">in</span> <span class="n">the_dict</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">asm</span> <span class="ow">in</span> <span class="n">the_dict</span><span class="p">[</span><span class="n">db_name</span><span class="p">][</span><span class="s2">&quot;Assembly&quot;</span><span class="p">]:</span>
        <span class="n">item</span> <span class="o">=</span> <span class="n">the_dict</span><span class="p">[</span><span class="n">db_name</span><span class="p">][</span><span class="s2">&quot;Assembly&quot;</span><span class="p">][</span><span class="n">asm</span><span class="p">]</span>
        <span class="n">res_ens</span> <span class="o">=</span> <span class="nb">map</span><span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="n">item</span><span class="p">[</span><span class="s2">&quot;Ensembl release&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">))</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">db_manager</span><span class="o">.</span><span class="n">ensembl_release</span> <span class="ow">in</span> <span class="n">res_ens</span> <span class="ow">and</span> <span class="n">item</span><span class="p">[</span><span class="s2">&quot;Include&quot;</span><span class="p">]:</span>
            <span class="k">if</span> <span class="n">give_type</span> <span class="o">==</span> <span class="s2">&quot;db&quot;</span> <span class="ow">and</span> <span class="nb">int</span><span class="p">(</span><span class="n">asm</span><span class="p">)</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">db_manager</span><span class="o">.</span><span class="n">ensembl_mysql_server</span><span class="p">:</span>
                <span class="n">result</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">db_name</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">give_type</span> <span class="o">==</span> <span class="s2">&quot;assembly&quot;</span><span class="p">:</span>
                <span class="n">result</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">asm</span><span class="p">))</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span>


<span class="n">result</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
{37, 38}
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">item</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
{&#39;Ensembl release&#39;: &#39;79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107&#39;,
 &#39;Include&#39;: False}
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><br/><span></span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">dm</span><span class="o">.</span><span class="n">available_releases</span><span class="p">:</span>
    <span class="n">ex</span> <span class="o">=</span> <span class="n">ExternalDatabases</span><span class="p">(</span><span class="n">dm</span><span class="o">.</span><span class="n">change_release</span><span class="p">(</span><span class="n">i</span><span class="p">))</span>
    <span class="n">ass</span> <span class="o">=</span> <span class="n">ex</span><span class="o">.</span><span class="n">give_list_for_case</span><span class="p">(</span><span class="n">give_type</span><span class="o">=</span><span class="s2">&quot;db&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Rel:</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">, Ass</span><span class="si">{</span><span class="n">ass</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Rel:79, Ass[&#39;EntrezGene&#39;, &#39;Vega gene&#39;, &#39;Clone_based_ensembl_gene&#39;, &#39;UniProtKB Gene Name&#39;, &#39;Vega_gene&#39;, &#39;HGNC Symbol&#39;, &#39;Havana gene&#39;, &#39;Clone_based_vega_gene&#39;]
Rel:80, Ass[&#39;EntrezGene&#39;, &#39;Vega gene&#39;, &#39;Clone_based_ensembl_gene&#39;, &#39;UniProtKB Gene Name&#39;, &#39;Vega_gene&#39;, &#39;HGNC Symbol&#39;, &#39;Havana gene&#39;, &#39;Clone_based_vega_gene&#39;]
Rel:81, Ass[&#39;EntrezGene&#39;, &#39;Vega gene&#39;, &#39;Clone_based_ensembl_gene&#39;, &#39;UniProtKB Gene Name&#39;, &#39;Vega_gene&#39;, &#39;HGNC Symbol&#39;, &#39;Havana gene&#39;, &#39;Clone_based_vega_gene&#39;]
Rel:82, Ass[&#39;EntrezGene&#39;, &#39;Vega gene&#39;, &#39;Clone_based_ensembl_gene&#39;, &#39;UniProtKB Gene Name&#39;, &#39;Vega_gene&#39;, &#39;HGNC Symbol&#39;, &#39;Havana gene&#39;, &#39;Clone_based_vega_gene&#39;]
Rel:83, Ass[&#39;EntrezGene&#39;, &#39;Vega gene&#39;, &#39;Clone_based_ensembl_gene&#39;, &#39;UniProtKB Gene Name&#39;, &#39;Vega_gene&#39;, &#39;HGNC Symbol&#39;, &#39;Havana gene&#39;, &#39;Clone_based_vega_gene&#39;]
Rel:84, Ass[&#39;EntrezGene&#39;, &#39;Vega gene&#39;, &#39;Clone_based_ensembl_gene&#39;, &#39;UniProtKB Gene Name&#39;, &#39;Vega_gene&#39;, &#39;HGNC Symbol&#39;, &#39;Havana gene&#39;, &#39;Clone_based_vega_gene&#39;]
Rel:85, Ass[&#39;EntrezGene&#39;, &#39;Vega gene&#39;, &#39;Clone_based_ensembl_gene&#39;, &#39;UniProtKB Gene Name&#39;, &#39;Vega_gene&#39;, &#39;HGNC Symbol&#39;, &#39;Havana gene&#39;, &#39;Clone_based_vega_gene&#39;]
Rel:86, Ass[&#39;EntrezGene&#39;, &#39;Vega gene&#39;, &#39;Clone_based_ensembl_gene&#39;, &#39;UniProtKB Gene Name&#39;, &#39;Vega_gene&#39;, &#39;HGNC Symbol&#39;, &#39;Havana gene&#39;, &#39;Clone_based_vega_gene&#39;]
Rel:87, Ass[&#39;EntrezGene&#39;, &#39;Vega gene&#39;, &#39;Clone_based_ensembl_gene&#39;, &#39;UniProtKB Gene Name&#39;, &#39;Vega_gene&#39;, &#39;HGNC Symbol&#39;, &#39;Havana gene&#39;, &#39;Clone_based_vega_gene&#39;]
Rel:88, Ass[&#39;EntrezGene&#39;, &#39;Vega gene&#39;, &#39;Clone_based_ensembl_gene&#39;, &#39;UniProtKB Gene Name&#39;, &#39;Vega_gene&#39;, &#39;HGNC Symbol&#39;, &#39;NCBI gene&#39;, &#39;Havana gene&#39;, &#39;Clone_based_vega_gene&#39;]
Rel:89, Ass[&#39;EntrezGene&#39;, &#39;Clone_based_ensembl_gene&#39;, &#39;UniProtKB Gene Name&#39;, &#39;HGNC Symbol&#39;, &#39;NCBI gene&#39;, &#39;Havana gene&#39;, &#39;Clone_based_vega_gene&#39;]
Rel:90, Ass[&#39;EntrezGene&#39;, &#39;Clone_based_ensembl_gene&#39;, &#39;UniProtKB Gene Name&#39;, &#39;HGNC Symbol&#39;, &#39;NCBI gene&#39;, &#39;Havana gene&#39;, &#39;Clone_based_vega_gene&#39;]
Rel:91, Ass[&#39;EntrezGene&#39;, &#39;Clone_based_ensembl_gene&#39;, &#39;UniProtKB Gene Name&#39;, &#39;HGNC Symbol&#39;, &#39;NCBI gene&#39;, &#39;Havana gene&#39;, &#39;Clone_based_vega_gene&#39;]
Rel:92, Ass[&#39;EntrezGene&#39;, &#39;Clone_based_ensembl_gene&#39;, &#39;UniProtKB Gene Name&#39;, &#39;HGNC Symbol&#39;, &#39;NCBI gene&#39;, &#39;Havana gene&#39;, &#39;Clone_based_vega_gene&#39;]
Rel:93, Ass[&#39;EntrezGene&#39;, &#39;Clone_based_ensembl_gene&#39;, &#39;UniProtKB Gene Name&#39;, &#39;HGNC Symbol&#39;, &#39;NCBI gene&#39;, &#39;Havana gene&#39;, &#39;Clone_based_vega_gene&#39;]
Rel:94, Ass[&#39;EntrezGene&#39;, &#39;Clone_based_ensembl_gene&#39;, &#39;UniProtKB Gene Name&#39;, &#39;HGNC Symbol&#39;, &#39;NCBI gene&#39;, &#39;Havana gene&#39;, &#39;Clone_based_vega_gene&#39;]
Rel:95, Ass[&#39;EntrezGene&#39;, &#39;Clone_based_ensembl_gene&#39;, &#39;UniProtKB Gene Name&#39;, &#39;HGNC Symbol&#39;, &#39;NCBI gene&#39;, &#39;Havana gene&#39;, &#39;Clone_based_vega_gene&#39;]
Rel:96, Ass[&#39;EntrezGene&#39;, &#39;Clone_based_ensembl_gene&#39;, &#39;UniProtKB Gene Name&#39;, &#39;HGNC Symbol&#39;, &#39;NCBI gene&#39;, &#39;Havana gene&#39;, &#39;Clone_based_vega_gene&#39;]
Rel:97, Ass[&#39;EntrezGene&#39;, &#39;Clone_based_ensembl_gene&#39;, &#39;UniProtKB Gene Name&#39;, &#39;HGNC Symbol&#39;, &#39;NCBI gene&#39;, &#39;Havana gene&#39;, &#39;Clone_based_vega_gene&#39;]
Rel:98, Ass[&#39;EntrezGene&#39;, &#39;Clone_based_ensembl_gene&#39;, &#39;UniProtKB Gene Name&#39;, &#39;HGNC Symbol&#39;, &#39;NCBI gene&#39;, &#39;Havana gene&#39;, &#39;Clone_based_vega_gene&#39;]
Rel:99, Ass[&#39;EntrezGene&#39;, &#39;Clone_based_ensembl_gene&#39;, &#39;UniProtKB Gene Name&#39;, &#39;HGNC Symbol&#39;, &#39;NCBI gene&#39;, &#39;Havana gene&#39;, &#39;Clone_based_vega_gene&#39;]
Rel:100, Ass[&#39;EntrezGene&#39;, &#39;Clone_based_ensembl_gene&#39;, &#39;NCBI gene (formerly Entrezgene)&#39;, &#39;UniProtKB Gene Name&#39;, &#39;HGNC Symbol&#39;, &#39;Havana gene&#39;, &#39;Clone_based_vega_gene&#39;]
Rel:101, Ass[&#39;EntrezGene&#39;, &#39;Clone_based_ensembl_gene&#39;, &#39;NCBI gene (formerly Entrezgene)&#39;, &#39;UniProtKB Gene Name&#39;, &#39;HGNC Symbol&#39;, &#39;Havana gene&#39;, &#39;Clone_based_vega_gene&#39;]
Rel:102, Ass[&#39;EntrezGene&#39;, &#39;Clone_based_ensembl_gene&#39;, &#39;NCBI gene (formerly Entrezgene)&#39;, &#39;UniProtKB Gene Name&#39;, &#39;HGNC Symbol&#39;, &#39;Havana gene&#39;, &#39;Clone_based_vega_gene&#39;]
Rel:103, Ass[&#39;EntrezGene&#39;, &#39;Clone_based_ensembl_gene&#39;, &#39;NCBI gene (formerly Entrezgene)&#39;, &#39;UniProtKB Gene Name&#39;, &#39;HGNC Symbol&#39;, &#39;Havana gene&#39;, &#39;Clone_based_vega_gene&#39;]
Rel:104, Ass[&#39;EntrezGene&#39;, &#39;Clone_based_ensembl_gene&#39;, &#39;NCBI gene (formerly Entrezgene)&#39;, &#39;UniProtKB Gene Name&#39;, &#39;HGNC Symbol&#39;, &#39;Havana gene&#39;, &#39;Clone_based_vega_gene&#39;]
Rel:105, Ass[&#39;EntrezGene&#39;, &#39;Clone_based_ensembl_gene&#39;, &#39;NCBI gene (formerly Entrezgene)&#39;, &#39;UniProtKB Gene Name&#39;, &#39;HGNC Symbol&#39;, &#39;Havana gene&#39;, &#39;Clone_based_vega_gene&#39;]
Rel:106, Ass[&#39;EntrezGene&#39;, &#39;Clone_based_ensembl_gene&#39;, &#39;NCBI gene (formerly Entrezgene)&#39;, &#39;UniProtKB Gene Name&#39;, &#39;HGNC Symbol&#39;, &#39;Havana gene&#39;, &#39;Clone_based_vega_gene&#39;]
Rel:107, Ass[&#39;EntrezGene&#39;, &#39;Clone_based_ensembl_gene&#39;, &#39;NCBI gene (formerly Entrezgene)&#39;, &#39;UniProtKB Gene Name&#39;, &#39;HGNC Symbol&#39;, &#39;Havana gene&#39;, &#39;Clone_based_vega_gene&#39;]
</pre></div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[68]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">kalds</span><span class="o">=</span><span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">jkl</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">jkl</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="o">==</span> <span class="mi">0</span><span class="p">]</span>
<span class="nb">len</span><span class="p">(</span><span class="n">kalds</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[68]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
113
</pre></div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[37]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">bok</span> <span class="o">=</span> <span class="n">rc37</span><span class="p">[</span><span class="n">rc37</span><span class="p">[</span><span class="s2">&quot;id_db&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">a</span><span class="p">)]</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[35]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dsd</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">a</span><span class="p">:</span>
    <span class="n">c</span> <span class="o">=</span><span class="nb">set</span><span class="p">([</span><span class="n">j</span> <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="n">np</span><span class="o">.</span><span class="n">unique</span><span class="p">(</span><span class="n">bok</span><span class="p">[</span><span class="n">bok</span><span class="p">[</span><span class="s2">&quot;id_db&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">i</span><span class="p">][</span><span class="s2">&quot;name_db&quot;</span><span class="p">])])</span>
    <span class="c1">#print(c)</span>
    <span class="n">dsd</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
<span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">Counter</span>
<span class="n">Counter</span><span class="p">(</span><span class="n">dsd</span><span class="p">)</span><span class="o">.</span><span class="n">most_common</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[35]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[(&#39;Clone-based (Vega) gene&#39;, 377),
 (&#39;Clone_based_vega_gene&#39;, 377),
 (&#39;Clone-based (Vega)&#39;, 377),
 (&#39;Clone-based (Ensembl) gene&#39;, 87),
 (&#39;Clone-based (Ensembl)&#39;, 87),
 (&#39;Clone_based_ensembl_gene&#39;, 87),
 (&#39;Uniprot_gn&#39;, 42),
 (&#39;UniProtKB Gene Name&#39;, 42),
 (&#39;EntrezGene&#39;, 41),
 (&#39;NCBI gene (formerly Entrezgene)&#39;, 41),
 (&#39;HGNC Symbol&#39;, 20),
 (&#39;WikiGene&#39;, 17),
 (&#39;RFAM&#39;, 2)]
</pre></div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</div>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="initialization.html" class="btn btn-neutral float-left" title="Initialization" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="results_preliminary_for_hlca.html" class="btn btn-neutral float-right" title="results_preliminary_for_hlca" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Kemal Inecik.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>